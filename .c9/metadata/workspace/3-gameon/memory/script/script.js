{"changed":true,"filter":false,"title":"script.js","tooltip":"/3-gameon/memory/script/script.js","value":"'use strict';\n\nvar Memory = {\n    \n    board: [],\n    countArray: [],    \n    cols: 4,\n    rows: 4, \n    pairs: 0,\n    tries: 0,\n\n    init: function(){\n        //Anropar random.js som \"scramblar\" arrayen\n        Memory.board = RandomGenerator.getPictureArray(Memory.rows, Memory.cols);\n        Memory.createBoard();\n    },\n    \n    createBoard: function(){\n        //Skapar en tabellstruktur för bilderna\n        var div = document.getElementById(\"wrapboard\");      \n        var table = document.createElement(\"table\");\n        \n        var counter = 0;\n        \n        for (var row = 0; row < Memory.cols; row+=1) {\n            var tableRow = document.createElement(\"tr\");\n            table.appendChild(tableRow);\n            \n            for (var col = 0; col < Memory.rows; col+=1) {\n                var tableCol = document.createElement(\"td\");\n\n                var a = document.createElement(\"a\");\n                a.setAttribute(\"href\", \"#\");               \n                \n                var backImage = document.createElement(\"img\");\n                backImage.setAttribute(\"src\", \"memory/pics/0.png\");\n    \n                a.appendChild(backImage);\n\n                tableCol.appendChild(a);\n                tableRow.appendChild(tableCol);\n                \n                Memory.flipBricks(counter, a);\n                counter += 1;\n            }\n            table.appendChild(tableRow);\n        }\n        div.appendChild(table);\n    },\n\n    flipBricks: function(count, link){\n        //Gör länkarna klickbara\n        link.addEventListener(\"click\", function(){    \n        //Lägger till ett element i arrayen\n        Memory.countArray.push(link);\n        \n            //Byter bild om kraven uppfylls\n            if (Memory.countArray.length === 1 || Memory.countArray.length === 2){\n                this.getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/\" + Memory.board[count] + \".png\");\n            }\n            //Byter tillbaka bilder med ett kort delay\n            if(Memory.countArray.length === 2){\n                setTimeout(function() {\n                    Memory.countParameters(Memory.countArray);\n                }, 750);\n            }\n        });\n    },\n    //Håller reda på räknare och skriver ut resultat vid vinst\n    countParameters: function(array){\n        //Om de klickade bilderna är ett par, lämna dom \"flippade\"...\n        if (array[0].getElementsByTagName(\"img\")[0].getAttribute(\"src\") === array[1].getElementsByTagName(\"img\")[0].getAttribute(\"src\")){\n            Memory.pairs += 1;\n            Memory.tries += 1;\n            //Vinstparametrar\n            if (Memory.pairs === (Memory.cols*Memory.rows) / 2) {\n                var result = document.getElementById(\"result\");\n                result.innerHTML = \"Grattis! Du vann och behövde \" + Memory.tries + \" försök\";\n            }\n        //...annars vänd tillbaka dom    \n        }\n        else{\n            array[0].getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/0.png\");\n            array[1].getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/0.png\");\n            \n            Memory.tries += 1;\n        }\n        //Tömmer array\n        Memory.countArray = [];\n    }\n};\n\nwindow.onload = Memory.init;","undoManager":{"mark":98,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":70,"column":64},"end":{"row":70,"column":65},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":13},"end":{"row":79,"column":0},"action":"insert","lines":["",""]},{"start":{"row":79,"column":0},"end":{"row":79,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":66},"end":{"row":70,"column":67},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":67},"end":{"row":70,"column":68},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":68},"end":{"row":70,"column":69},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":9},"end":{"row":79,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"remove","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":11},"end":{"row":79,"column":12},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":12},"end":{"row":79,"column":13},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":13},"end":{"row":79,"column":14},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":14},"end":{"row":79,"column":15},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":15},"end":{"row":79,"column":16},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":16},"end":{"row":79,"column":17},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":17},"end":{"row":79,"column":18},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":18},"end":{"row":79,"column":19},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":19},"end":{"row":79,"column":20},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":20},"end":{"row":79,"column":21},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"insert","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":23},"end":{"row":79,"column":24},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":24},"end":{"row":79,"column":25},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":25},"end":{"row":79,"column":26},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":26},"end":{"row":79,"column":27},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":27},"end":{"row":79,"column":28},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":28},"end":{"row":79,"column":29},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":29},"end":{"row":79,"column":30},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":30},"end":{"row":79,"column":31},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":31},"end":{"row":79,"column":32},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":28},"end":{"row":79,"column":29},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":33},"end":{"row":79,"column":34},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":34},"end":{"row":79,"column":35},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":35},"end":{"row":79,"column":36},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":36},"end":{"row":79,"column":37},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":15},"end":{"row":88,"column":21},"action":"remove","lines":["change"]},{"start":{"row":88,"column":15},"end":{"row":88,"column":25},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":10},"action":"remove","lines":["change"]},{"start":{"row":5,"column":4},"end":{"row":5,"column":14},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":19},"end":{"row":54,"column":25},"action":"remove","lines":["change"]},{"start":{"row":54,"column":19},"end":{"row":54,"column":29},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":23},"end":{"row":57,"column":29},"action":"remove","lines":["change"]},{"start":{"row":57,"column":23},"end":{"row":57,"column":33},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":57},"end":{"row":57,"column":63},"action":"remove","lines":["change"]},{"start":{"row":57,"column":57},"end":{"row":57,"column":67},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":22},"end":{"row":61,"column":28},"action":"remove","lines":["change"]},{"start":{"row":61,"column":22},"end":{"row":61,"column":32},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":50},"end":{"row":63,"column":56},"action":"remove","lines":["change"]},{"start":{"row":63,"column":50},"end":{"row":63,"column":60},"action":"insert","lines":["countArray"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":43,"column":29},"action":"remove","lines":["                ","                Memory.flipBricks(counter, a);","                counter += 1;"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":0},"end":{"row":64,"column":11},"action":"remove","lines":["        //Gör länkarna klickbara","        link.addEventListener(\"click\", function(){","            //Lägger till ett element i arrayen","            Memory.countArray.push(link);","        ","            //Byter bild om kraven uppfylls","            if (Memory.countArray.length === 1 || Memory.countArray.length === 2){","                this.getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/\" + Memory.board[count] + \".png\");","            }","            //Byter tillbaka bilder med ett kort delay","            if(Memory.countArray.length === 2){","                setTimeout(function() {","                    Memory.countParameters(Memory.countArray);","                }, 750);","            }","        });"]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":25},"end":{"row":48,"column":36},"action":"remove","lines":["count, link"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":72,"column":5},"action":"remove","lines":["        //Om de klickade bilderna är ett par, lämna dom \"flippade\"...","        if (array[0].getElementsByTagName(\"img\")[0].getAttribute(\"src\") === array[1].getElementsByTagName(\"img\")[0].getAttribute(\"src\")){","            Memory.pairs += 1;","            Memory.tries += 1;","            //Vinstparametrar","            if (Memory.pairs === (Memory.cols*Memory.rows) / 2) {","                var result = document.getElementById(\"result\");","                result.innerHTML = \"Grattis! Du vann och behövde \" + Memory.tries + \" försök\";","            }","        //...annars vänd tillbaka dom    ","        }","        else{","            array[0].getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/0.png\");","            array[1].getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/0.png\");","            ","            Memory.tries += 1;","        }","        //Tömmer array","        Memory.countArray = [];","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":30},"end":{"row":52,"column":35},"action":"remove","lines":["array"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":53,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":4},"end":{"row":53,"column":5},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":22,"column":24},"action":"remove","lines":["","        var counter = 0;"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":52},"end":{"row":21,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":0},"end":{"row":40,"column":29},"action":"insert","lines":["                Memory.flipBricks(counter, a);","                counter += 1;"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":16},"end":{"row":40,"column":0},"action":"insert","lines":["",""]},{"start":{"row":40,"column":0},"end":{"row":40,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":25},"end":{"row":48,"column":36},"action":"insert","lines":["count, link"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":52},"end":{"row":21,"column":0},"action":"insert","lines":["",""]},{"start":{"row":21,"column":0},"end":{"row":21,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":8},"end":{"row":22,"column":0},"action":"insert","lines":["",""]},{"start":{"row":22,"column":0},"end":{"row":22,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":8},"end":{"row":22,"column":9},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":9},"end":{"row":22,"column":10},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":10},"end":{"row":22,"column":11},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":11},"end":{"row":22,"column":12},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":12},"end":{"row":22,"column":13},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":14},"end":{"row":22,"column":15},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":15},"end":{"row":22,"column":16},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":16},"end":{"row":22,"column":17},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":17},"end":{"row":22,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":18},"end":{"row":22,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":19},"end":{"row":22,"column":20},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":20},"end":{"row":22,"column":21},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":21},"end":{"row":22,"column":22},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":22},"end":{"row":22,"column":23},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":23},"end":{"row":22,"column":24},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":38},"end":{"row":51,"column":0},"action":"insert","lines":["",""]},{"start":{"row":51,"column":0},"end":{"row":51,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":8},"end":{"row":52,"column":0},"action":"insert","lines":["",""]},{"start":{"row":52,"column":0},"end":{"row":52,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":8},"end":{"row":53,"column":41},"action":"insert","lines":["//Lägger till ett element i arrayen","            Memory.countArray.push(link);"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":53,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":37},"end":{"row":54,"column":0},"action":"insert","lines":["",""]},{"start":{"row":54,"column":0},"end":{"row":54,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":8},"end":{"row":55,"column":0},"action":"insert","lines":["",""]},{"start":{"row":55,"column":0},"end":{"row":55,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":8},"end":{"row":63,"column":24},"action":"insert","lines":["            //Byter bild om kraven uppfylls","            if (Memory.countArray.length === 1 || Memory.countArray.length === 2){","                this.getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/\" + Memory.board[count] + \".png\");","            }","            //Byter tillbaka bilder med ett kort delay","            if(Memory.countArray.length === 2){","                setTimeout(function() {","                    Memory.countParameters(Memory.countArray);","                }, 750);"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":24},"end":{"row":64,"column":0},"action":"insert","lines":["",""]},{"start":{"row":64,"column":0},"end":{"row":64,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":["}"]},{"start":{"row":64,"column":0},"end":{"row":64,"column":16},"action":"remove","lines":["                "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":4},"end":{"row":51,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":8},"end":{"row":52,"column":50},"action":"insert","lines":[" //Gör länkarna klickbara","        link.addEventListener(\"click\", function(){"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":4},"end":{"row":66,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":8},"end":{"row":66,"column":11},"action":"insert","lines":["});"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":32},"end":{"row":70,"column":0},"action":"insert","lines":["",""]},{"start":{"row":70,"column":0},"end":{"row":70,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":8},"end":{"row":88,"column":31},"action":"insert","lines":["        //Om de klickade bilderna är ett par, lämna dom \"flippade\"...","        if (array[0].getElementsByTagName(\"img\")[0].getAttribute(\"src\") === array[1].getElementsByTagName(\"img\")[0].getAttribute(\"src\")){","            Memory.pairs += 1;","            Memory.tries += 1;","            //Vinstparametrar","            if (Memory.pairs === (Memory.cols*Memory.rows) / 2) {","                var result = document.getElementById(\"result\");","                result.innerHTML = \"Grattis! Du vann och behövde \" + Memory.tries + \" försök\";","            }","        //...annars vänd tillbaka dom    ","        }","        else{","            array[0].getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/0.png\");","            array[1].getElementsByTagName(\"img\")[0].setAttribute(\"src\", \"memory/pics/0.png\");","            ","            Memory.tries += 1;","        }","        //Tömmer array","        Memory.countArray = [];"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":30},"end":{"row":69,"column":31},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":31},"end":{"row":69,"column":32},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":32},"end":{"row":69,"column":33},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":33},"end":{"row":69,"column":34},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":34},"end":{"row":69,"column":35},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":0},"end":{"row":70,"column":4},"action":"remove","lines":["    "]}]}]]},"ace":{"folds":[],"scrolltop":720.6363096237183,"scrollleft":0,"selection":{"start":{"row":61,"column":47},"end":{"row":61,"column":47},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1417388072729}